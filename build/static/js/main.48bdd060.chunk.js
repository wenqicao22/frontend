(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{12:function(e,t,n){},33:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n(26),s=n.n(r),i=(n(33),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,60)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))}),j=n(3),l=n(2),d=(n(12),n(4)),o=n.n(d);var h=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),r=n[0],s=n[1],i=Object(a.useState)(""),j=Object(l.a)(i,2),d=j[0],h=j[1],u=Object(a.useState)(""),b=Object(l.a)(u,2),O=b[0],x=b[1],m=Object(a.useState)(""),p=Object(l.a)(m,2),g=p[0],v=p[1];return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Login"}),Object(c.jsx)("input",{placeholder:"username",onChange:function(e){return s(e.target.value)}}),Object(c.jsx)("input",{type:"password",placeholder:"password",onChange:function(e){return h(e.target.value)}}),Object(c.jsx)("input",{type:"radio",name:"userType",id:"manager",value:"manager",onClick:function(e){return x(e.target.value)}}),Object(c.jsx)("label",{htmlFor:"manager",children:"Manager"}),Object(c.jsx)("input",{required:!0,type:"radio",name:"userType",id:"star",value:"star"}),Object(c.jsx)("label",{htmlFor:"star",children:"Star"}),Object(c.jsx)("button",{onClick:function(){o()({method:"post",data:{username:r,password:d,managerOrStar:O},withCredentials:!0,url:"http://localhost:4000/login"}).then((function(t){console.log("login:",t),v(t.data.message),"The user login successfully."===t.data.message&&(console.log("login successfully"),alert("please refresh after login"),e.history.push("/home"),window.location.reload(!0))}))},children:"Submit"})]}),Object(c.jsx)("div",{children:g})]})};var u=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),r=n[0],s=n[1],i=Object(a.useState)(""),j=Object(l.a)(i,2),d=j[0],h=j[1];return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Register For Manager"}),Object(c.jsx)("input",{required:!0,placeholder:"username",onChange:function(e){return s(e.target.value)}}),Object(c.jsx)("input",{required:!0,type:"password",placeholder:"password",onChange:function(e){return h(e.target.value)}}),Object(c.jsx)("button",{onClick:function(){o()({method:"post",data:{username:r,password:d,managerOrStar:"manager"},withCredentials:!0,url:"http://localhost:4000/register"}).then((function(t){console.log(t),"User Created"===t.data&&e.history.push("/")}))},children:"Submit"})]})})},b=n(10),O=Object(a.createContext)({});function x(e){var t=Object(a.useState)(),n=Object(l.a)(t,2),r=n[0],s=n[1];return Object(a.useEffect)((function(){o.a.get("http://localhost:4000/user",{withCredentials:!0}).then((function(e){s(e.data)}))}),[]),Object(c.jsx)(O.Provider,{value:r,children:e.children})}function m(){var e={color:"white"},t=Object(a.useContext)(O);return Object(c.jsx)("nav",{children:Object(c.jsx)("ul",{className:"navList",children:t?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(b.b,{style:e,onClick:function(){o()({method:"get",withCredentials:!0,url:"http://localhost:4000/logout"}).then((function(e){"loged out successfully."===e.data&&(window.location.href="/")}))},to:"/logout",children:Object(c.jsx)("li",{children:"Log Out"})}),Object(c.jsx)(b.b,{style:e,to:"/editEvent",children:Object(c.jsx)("li",{children:"Edit Event"})}),Object(c.jsx)(b.b,{style:e,to:"/starList",children:Object(c.jsx)("li",{children:"Star List"})}),Object(c.jsx)(b.b,{style:e,to:"/listEvent",children:Object(c.jsx)("li",{children:"List Event"})})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(b.b,{style:e,to:"/",children:Object(c.jsx)("li",{children:"Login"})}),Object(c.jsx)(b.b,{style:e,to:"/about",children:Object(c.jsx)("li",{children:"About"})}),Object(c.jsx)(b.b,{style:e,to:"/register",children:Object(c.jsx)("li",{children:"Register"})})]})})})}function p(){var e=Object(a.useContext)(O),t=Object(a.useState)(""),n=Object(l.a)(t,2),r=n[0],s=n[1],i=Object(a.useState)(""),j=Object(l.a)(i,2),d=j[0],h=j[1],u=Object(a.useState)(""),b=Object(l.a)(u,2),x=b[0],m=b[1],p=Object(a.useState)([]),g=Object(l.a)(p,2),v=g[0],f=g[1],S=Object(a.useState)([]),C=Object(l.a)(S,2),w=C[0],y=C[1],E=Object(a.useState)([]),F=Object(l.a)(E,2),N=F[0],A=F[1];if(Object(a.useEffect)((function(){o()({method:"get",withCredentials:!0,url:"http://localhost:4000/getallstar"}).then((function(e){y(e.data)})),o()({method:"get",withCredentials:!0,url:"http://localhost:4000/getallevent"}).then((function(e){A(e.data)}))}),[]),"manager"!==e.managerOrStar)return Object(c.jsx)("div",{className:"non-admin",children:"This page is for manager only."});return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h1",{children:"Event List"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{placeholder:"Name Of The Event",type:"text",onChange:function(e){return s(e.target.value)}}),Object(c.jsx)("input",{placeholder:"MM/DD/YY",type:"text",onChange:function(e){return h(e.target.value)}}),Object(c.jsxs)("select",{id:"star",name:"star",onChange:function(){var e=document.getElementById("star");m(e.value)},children:[Object(c.jsx)("option",{children:"Select A Star"}),w?w.map((function(e,t){return Object(c.jsx)("option",{value:w[t].name,children:w[t].name},t)})):Object(c.jsx)(c.Fragment,{})]}),Object(c.jsx)("input",{type:"submit",value:"Add Event",onClick:function(){o()({method:"post",data:{manager:e.username,name:r,time:d,star:x,isAccepted:!1},withCredentials:!0,url:"http://localhost:4000/addevent"}).then((function(t){if("The event added."===t.data){var n=v,c={manager:e.username,name:r,time:d,star:x,isAccepted:!1};n.push(c),f(n)}}))}})]}),Object(c.jsxs)("div",{className:"star-list",children:[null!==v&&0!==v.length?Object(c.jsx)(c.Fragment,{children:v.map((function(e,t){return Object(c.jsxs)("div",{className:"star-info",children:["Event",Object(c.jsxs)("h3",{children:[" ",v[t].name]})," has been added! Name: ",Object(c.jsx)("h3",{children:v[t].name}),", Time: ",Object(c.jsx)("h3",{children:v[t].time}),". The star is ",Object(c.jsx)("h3",{children:v[t].star}),", status is ",Object(c.jsx)("h3",{children:v[t].isAccepted})]},t)}))}):Object(c.jsx)("div",{children:"No new event added."}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Event So Far:"}),Object(c.jsx)("table",{id:"star-table",children:Object(c.jsxs)("tbody",{children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Name Of Event"}),Object(c.jsx)("th",{children:"Time"}),Object(c.jsx)("th",{children:"Star"})]}),N?N.map((function(e,t){return Object(c.jsxs)("tr",{id:t,children:[Object(c.jsx)("td",{children:e.name}),Object(c.jsx)("td",{children:e.time}),Object(c.jsx)("td",{children:e.star}),Object(c.jsx)("td",{children:e.isAccepted})]},t)})):Object(c.jsxs)("div",{children:["No Event For ",e.username,"."]})]})})]})]})]})}function g(){var e=Object(a.useContext)(O),t=Object(a.useState)(""),n=Object(l.a)(t,2),r=n[0],s=n[1],i=Object(a.useState)(""),j=Object(l.a)(i,2),d=j[0],h=j[1],u=Object(a.useState)(""),b=Object(l.a)(u,2),x=b[0],m=b[1],p=Object(a.useState)([]),g=Object(l.a)(p,2),v=g[0],f=g[1],S=Object(a.useState)([]),C=Object(l.a)(S,2),w=C[0],y=C[1],E=Object(a.useState)([]),F=Object(l.a)(E,2),N=F[0],A=F[1];if(Object(a.useEffect)((function(){o()({method:"get",withCredentials:!0,url:"http://localhost:4000/starList"}).then((function(t){var n=[];t.data.forEach((function(t){t.manager===e.username&&n.push(t)})),A(n),console.log(n)}))}),[]),"manager"!==e.managerOrStar)return Object(c.jsx)("div",{className:"non-admin",children:"This page is for manager only."});return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h1",{children:"StarList"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{placeholder:"name",type:"text",onChange:function(e){return s(e.target.value)}}),Object(c.jsx)("input",{placeholder:"age",type:"text",onChange:function(e){return h(e.target.value)}}),Object(c.jsxs)("select",{id:"gender",name:"gender",onChange:function(){var e=document.getElementById("gender");m(e.value)},children:[Object(c.jsx)("option",{value:"selectGender",children:"Select Gender"}),Object(c.jsx)("option",{value:"female",children:"Female"}),Object(c.jsx)("option",{value:"male",children:"Male"}),Object(c.jsx)("option",{value:"other",children:"Other"})]}),Object(c.jsx)("input",{type:"submit",value:"Add Star",onClick:function(){o()({method:"put",data:{manager:e.username,name:r,age:d,gender:x},withCredentials:!0,url:"http://localhost:4000/starList"}).then((function(e){var t=e.data.message,n=t.info;if(console.log("info:",n),"Star added"===n){var c=v,a=w;c.push({name:r,age:d,gender:x});var s={username:t.username,password:t.password};a.push(s),f(c),y(a)}}))}})]}),Object(c.jsxs)("div",{className:"star-list",children:[null!==v&&0!==v.length?Object(c.jsx)(c.Fragment,{children:v.map((function(e,t){return Object(c.jsxs)("div",{className:"star-info",children:["star",Object(c.jsxs)("h3",{children:[" ",v[t].name]})," has been added! Age: ",Object(c.jsx)("h3",{children:v[t].age}),", Gender: ",Object(c.jsx)("h3",{children:v[t].gender}),". The username is ",Object(c.jsx)("h3",{children:w[t].username}),", password is ",Object(c.jsx)("h3",{children:w[t].password})]},t)}))}):Object(c.jsx)("div",{children:"No new star added"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Star So Far:"}),Object(c.jsx)("table",{id:"star-table",children:Object(c.jsxs)("tbody",{children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Name"}),Object(c.jsx)("th",{children:"Age"}),Object(c.jsx)("th",{children:"Gender"})]}),N.map((function(e,t){return Object(c.jsxs)("tr",{id:t,children:[Object(c.jsx)("td",{children:e.name}),Object(c.jsx)("td",{children:e.age}),Object(c.jsx)("td",{children:e.gender})]},t)}))]})})]})]})]})}var v=function(){var e=Object(a.useContext)(O),t=Object(a.useState)(),n=Object(l.a)(t,2),r=n[0],s=n[1],i=Object(a.useState)(),j=Object(l.a)(i,2),d=j[0],h=j[1];return Object(a.useEffect)((function(){o()({method:"get",withCredentials:!0,url:"http://localhost:4000/getallevent"}).then((function(e){s(e.data)}))}),[e,r]),"manager"!==e.managerOrStar?Object(c.jsx)("div",{className:"non-admin",children:"This page is for manager only."}):r?Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Welcome to Edit Event Page!"}),Object(c.jsxs)("select",{onChange:function(e){return h(e.target.value)},name:"deleteevent",id:"deleteevent",children:[Object(c.jsx)("option",{id:"Select-A-Event",children:"Select A Event"}),r.map((function(e){return Object(c.jsx)("option",{id:e.name,children:e.name},e.name)}))]}),Object(c.jsx)("button",{onClick:function(){var e;r&&r.forEach((function(t){t.name===d&&(e=t.id)})),o()({method:"delete",withCredentials:!0,data:{id:e},url:"http://localhost:4000/deleteevent"})},children:"Delete Event"})]}):Object(c.jsx)("div",{children:"No Event So Far."})};function f(){return Object(c.jsx)("div",{children:"About"})}var S=function(){var e=Object(a.useContext)(O);return console.log(e),Object(c.jsx)("div",{children:e?Object(c.jsxs)("div",{children:["Welcome ",e.username]}):Object(c.jsx)("div",{children:"Welcome to star management app!"})})};function C(){Object(a.useContext)(O);return Object(c.jsx)("div",{})}function w(){Object(a.useContext)(O);return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Do you wanna change it your current password?"}),Object(c.jsx)("input",{placeholder:"Enter your current password here.",type:"text",id:"old-password"}),Object(c.jsx)("input",{placeholder:"Enter your new password here.",type:"text",id:"password"}),Object(c.jsx)("button",{onClick:function(){},children:"Submit"})]})}function y(e){var t=Object(a.useContext)(O);return Object(c.jsxs)("div",{className:"Parent",children:[Object(c.jsx)(m,{}),Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{path:"/home",exact:!0,component:S}),Object(c.jsx)(j.a,{path:"/about",exact:!0,component:f}),t?Object(c.jsx)(c.Fragment,{children:"manager"===t.managerOrStar?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(j.a,{path:"/editEvent",exact:!0,children:Object(c.jsx)(v,{})}),Object(c.jsx)(j.a,{path:"/starList",exact:!0,children:Object(c.jsx)(g,{})}),Object(c.jsx)(j.a,{path:"/listEvent",exact:!0,children:Object(c.jsx)(p,{})})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(j.a,{path:"/editSchedule",exact:!0,children:Object(c.jsx)(C,{})}),Object(c.jsx)(j.a,{path:"/updatePassword",exact:!0,children:Object(c.jsx)(w,{})})]})}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(j.a,{path:"/",exact:!0,component:h}),Object(c.jsx)(j.a,{path:"/register",exact:!0,component:u})]}),Object(c.jsx)(j.a,{path:"*",component:function(){return"404 Not Found"}})]})]})}s.a.render(Object(c.jsx)(x,{children:Object(c.jsx)(b.a,{children:Object(c.jsx)(y,{})})}),document.getElementById("root")),i()}},[[59,1,2]]]);
//# sourceMappingURL=main.48bdd060.chunk.js.map